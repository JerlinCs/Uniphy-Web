<!doctype html>
<html lang="en-US">

<!-- Mirrored from bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 10 Nov 2021 09:51:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
	
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="profile" href="https://gmpg.org/xfn/11">
  <link href="../../wp-content/themes/bridgecrew/assets/images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="../../wp-content/themes/bridgecrew/assets/images/webclip.png" rel="apple-touch-icon">

	
	
	<style type="text/css">			.heateorSssInstagramBackground{background:radial-gradient(circle at 30% 107%,#fdf497 0,#fdf497 5%,#fd5949 45%,#d6249f 60%,#285aeb 90%)}
											.heateor_sss_horizontal_sharing .heateorSssSharing,.heateor_sss_standard_follow_icons_container .heateorSssSharing{
							color: #fff;
						border-width: 0px;
			border-style: solid;
			border-color: transparent;
		}
				.heateor_sss_horizontal_sharing .heateorSssTCBackground{
			color:#666;
		}
				.heateor_sss_horizontal_sharing .heateorSssSharing:hover,.heateor_sss_standard_follow_icons_container .heateorSssSharing:hover{
						border-color: transparent;
		}
		.heateor_sss_vertical_sharing .heateorSssSharing,.heateor_sss_floating_follow_icons_container .heateorSssSharing{
							color: #fff;
						border-width: 0px;
			border-style: solid;
			border-color: transparent;
		}
				.heateor_sss_vertical_sharing .heateorSssTCBackground{
			color:#666;
		}
				.heateor_sss_vertical_sharing .heateorSssSharing:hover,.heateor_sss_floating_follow_icons_container .heateorSssSharing:hover{
						border-color: transparent;
		}
		
		@media screen and (max-width:783px) {.heateor_sss_vertical_sharing{display:none!important}}@media screen and (max-width:783px) {.heateor_sss_floating_follow_icons_container{display:none!important}}</style><meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' />

	<!-- This site is optimized with the Yoast SEO plugin v17.2 - https://yoast.com/wordpress/plugins/seo/ -->
	<title>Creating a secure Kubernetes NGINX deployment using Checkov - Bridgecrew Blog</title>
	<meta name="description" content="Even the most popular web server deployment has insecure defaults. Here, we identify misconfigurations in default K8s NGINX deployments." />
	<link rel="canonical" href="index.html" />
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="article" />
	<meta property="og:title" content="Creating a secure Kubernetes NGINX deployment using Checkov - Bridgecrew Blog" />
	<meta property="og:description" content="Even the most popular web server deployment has insecure defaults. Here, we identify misconfigurations in default K8s NGINX deployments." />
	<meta property="og:url" content="https://bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/" />
	<meta property="og:site_name" content="Bridgecrew" />
	<meta property="article:published_time" content="2021-09-02T12:15:24+00:00" />
	<meta property="article:modified_time" content="2021-09-02T13:10:27+00:00" />
	<meta property="og:image" content="https://bridgecrew.io/wp-content/uploads/NGINX-and-Checkov-1.png" />
	<meta property="og:image:width" content="1012" />
	<meta property="og:image:height" content="506" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:label1" content="Written by" />
	<meta name="twitter:data1" content="Steve Giguere" />
	<meta name="twitter:label2" content="Est. reading time" />
	<meta name="twitter:data2" content="16 minutes" />
	<script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://bridgecrew.io/#organization","name":"Bridgecrew","url":"https://bridgecrew.io/","sameAs":[],"logo":{"@type":"ImageObject","@id":"https://bridgecrew.io/#logo","inLanguage":"en-US","url":"https://bridgecrew.io/wp-content/uploads/Website-Feature-Image-min.jpg","contentUrl":"https://bridgecrew.io/wp-content/uploads/Website-Feature-Image-min.jpg","width":1200,"height":600,"caption":"Bridgecrew"},"image":{"@id":"https://bridgecrew.io/#logo"}},{"@type":"WebSite","@id":"https://bridgecrew.io/#website","url":"https://bridgecrew.io/","name":"Bridgecrew","description":"Codified Cloud Security","publisher":{"@id":"https://bridgecrew.io/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://bridgecrew.io/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"WebPage","@id":"https://bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/#webpage","url":"https://bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/","name":"Creating a secure Kubernetes NGINX deployment using Checkov - Bridgecrew Blog","isPartOf":{"@id":"https://bridgecrew.io/#website"},"primaryImageOfPage":{"@id":"https://bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/#primaryimage"},"datePublished":"2021-09-02T12:15:24+00:00","dateModified":"2021-09-02T13:10:27+00:00","description":"Even the most popular web server deployment has insecure defaults. Here, we identify misconfigurations in default K8s NGINX deployments.","breadcrumb":{"@id":"https://bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/"]}]},{"@type":"BreadcrumbList","@id":"https://bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://bridgecrew.io/"},{"@type":"ListItem","position":2,"name":"Blog","item":"https://bridgecrew.io/blog/"},{"@type":"ListItem","position":3,"name":"Creating a secure Kubernetes NGINX deployment using Checkov"}]},{"@type":"Article","@id":"https://bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/#article","isPartOf":{"@id":"https://bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/#webpage"},"author":{"@id":"https://bridgecrew.io/#/schema/person/2ed22cff152b0c492ac54d0c05bc4ee7"},"headline":"Creating a secure Kubernetes NGINX deployment using Checkov","datePublished":"2021-09-02T12:15:24+00:00","dateModified":"2021-09-02T13:10:27+00:00","mainEntityOfPage":{"@id":"https://bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/#webpage"},"wordCount":3127,"publisher":{"@id":"https://bridgecrew.io/#organization"},"image":{"@id":"https://bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/#primaryimage"},"thumbnailUrl":"https://bridgecrew.io/wp-content/uploads/NGINX-and-Checkov-1.png","articleSection":["Open source projects"],"inLanguage":"en-US"},{"@type":"Person","@id":"https://bridgecrew.io/#/schema/person/2ed22cff152b0c492ac54d0c05bc4ee7","name":"Steve Giguere","image":{"@type":"ImageObject","@id":"https://bridgecrew.io/#personlogo","inLanguage":"en-US","url":"https://bridgecrew.io/wp-content/uploads/Screen-Shot-2021-06-30-at-1.58.27-PM-96x96.png","contentUrl":"https://bridgecrew.io/wp-content/uploads/Screen-Shot-2021-06-30-at-1.58.27-PM-96x96.png","caption":"Steve Giguere"},"url":"https://bridgecrew.io/blog/author/sgiguere/"}]}</script>
	<!-- / Yoast SEO plugin. -->


<link rel='dns-prefetch' href='http://use.fontawesome.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="Bridgecrew &raquo; Feed" href="../../feed/index.html" />
<link rel='preload stylesheet' as='style' id='contact-form-7-css'  href='../../wp-content/plugins/contact-form-7/includes/css/styles4245.css?ver=5.5.2' media='all' />
<link rel='preload stylesheet' as='style' id='cookie-law-info-css'  href='../../wp-content/plugins/cookie-law-info/public/css/cookie-law-info-publicc1b4.css?ver=2.0.5' media='all' />
<link rel='preload stylesheet' as='style' id='cookie-law-info-gdpr-css'  href='../../wp-content/plugins/cookie-law-info/public/css/cookie-law-info-gdprc1b4.css?ver=2.0.5' media='all' />
<link rel='stylesheet' id='heateor_sss_frontend_css-css'  href='../../wp-content/plugins/sassy-social-share/public/css/sassy-social-share-publice346.css?ver=3.3.24' media='all' />
<link rel='stylesheet' id='heateor_sss_sharing_default_svg-css'  href='../../wp-content/plugins/sassy-social-share/admin/css/sassy-social-share-svge346.css?ver=3.3.24' media='all' />
<link rel='stylesheet' id='font-awesome-official-css'  href='https://use.fontawesome.com/releases/v5.15.4/css/all.css' media='all' integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous" />
<link rel='preload stylesheet' as='style' id='font-awesome-css'  href='../../wp-content/themes/bridgecrew/assets/vendor/font-awesome-4.7.0/css/font-awesome1849.css?ver=4.7.0' media='all' />
<link rel='preload stylesheet' as='style' id='basic-table-css'  href='../../wp-content/themes/bridgecrew/assets/vendor/basictablef658.html?ver=5.8.1' media='all' />
<link rel='preload stylesheet' as='style' id='magnific-popup-css'  href='../../wp-content/themes/bridgecrew/assets/vendor/magnific-popupf658.html?ver=5.8.1' media='all' />
<link rel='preload stylesheet' as='style' id='theme-style-css'  href='../../wp-content/themes/bridgecrew/assets/css/style540f.css?ver=1635952142' media='all' />
<link rel='stylesheet' id='font-awesome-official-v4shim-css'  href='https://use.fontawesome.com/releases/v5.15.4/css/v4-shims.css' media='all' integrity="sha384-Vq76wejb3QJM4nDatBa5rUOve+9gkegsjCebvV/9fvXlGWo4HCMR4cJZjjcF6Viv" crossorigin="anonymous" />
<style id='font-awesome-official-v4shim-inline-css'>
@font-face {
font-family: "FontAwesome";
font-display: block;
src: url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-brands-400.eot"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-brands-400.eot?#iefix") format("embedded-opentype"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-brands-400.woff2") format("woff2"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-brands-400.woff") format("woff"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-brands-400.ttf") format("truetype"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-brands-400.svg#fontawesome") format("svg");
}

@font-face {
font-family: "FontAwesome";
font-display: block;
src: url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-solid-900.eot"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-solid-900.eot?#iefix") format("embedded-opentype"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-solid-900.woff2") format("woff2"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-solid-900.woff") format("woff"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-solid-900.ttf") format("truetype"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-solid-900.svg#fontawesome") format("svg");
}

@font-face {
font-family: "FontAwesome";
font-display: block;
src: url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-regular-400.eot"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-regular-400.eot?#iefix") format("embedded-opentype"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-regular-400.woff2") format("woff2"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-regular-400.woff") format("woff"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-regular-400.ttf") format("truetype"),
		url("https://use.fontawesome.com/releases/v5.15.4/webfonts/fa-regular-400.svg#fontawesome") format("svg");
unicode-range: U+F004-F005,U+F007,U+F017,U+F022,U+F024,U+F02E,U+F03E,U+F044,U+F057-F059,U+F06E,U+F070,U+F075,U+F07B-F07C,U+F080,U+F086,U+F089,U+F094,U+F09D,U+F0A0,U+F0A4-F0A7,U+F0C5,U+F0C7-F0C8,U+F0E0,U+F0EB,U+F0F3,U+F0F8,U+F0FE,U+F111,U+F118-F11A,U+F11C,U+F133,U+F144,U+F146,U+F14A,U+F14D-F14E,U+F150-F152,U+F15B-F15C,U+F164-F165,U+F185-F186,U+F191-F192,U+F1AD,U+F1C1-F1C9,U+F1CD,U+F1D8,U+F1E3,U+F1EA,U+F1F6,U+F1F9,U+F20A,U+F247-F249,U+F24D,U+F254-F25B,U+F25D,U+F267,U+F271-F274,U+F279,U+F28B,U+F28D,U+F2B5-F2B6,U+F2B9,U+F2BB,U+F2BD,U+F2C1-F2C2,U+F2D0,U+F2D2,U+F2DC,U+F2ED,U+F328,U+F358-F35B,U+F3A5,U+F3D1,U+F410,U+F4AD;
}
</style>
<script src='../../wp-includes/js/jquery/jquery.minaf6c.js?ver=3.6.0' id='jquery-core-js'></script>
<script src='../../wp-includes/js/jquery/jquery-migrate.mind617.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script id='cookie-law-info-js-extra'>
var Cli_Data = {"nn_cookie_ids":[],"cookielist":[],"non_necessary_cookies":[],"ccpaEnabled":"","ccpaRegionBased":"","ccpaBarEnabled":"","strictlyEnabled":["necessary","obligatoire"],"ccpaType":"gdpr","js_blocking":"","custom_integration":"","triggerDomRefresh":"","secure_cookies":""};
var cli_cookiebar_settings = {"animate_speed_hide":"500","animate_speed_show":"500","background":"#FFF","border":"#b1a6a6c2","border_on":"","button_1_button_colour":"#662dff","button_1_button_hover":"#5224cc","button_1_link_colour":"#fff","button_1_as_button":"1","button_1_new_win":"","button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":"","button_2_hidebar":"","button_3_button_colour":"#000","button_3_button_hover":"#000000","button_3_link_colour":"#fff","button_3_as_button":"","button_3_new_win":"","button_4_button_colour":"#000","button_4_button_hover":"#000000","button_4_link_colour":"#052882","button_4_as_button":"","button_7_button_colour":"#61a229","button_7_button_hover":"#4e8221","button_7_link_colour":"#fff","button_7_as_button":"1","button_7_new_win":"","font_family":"inherit","header_fix":"","notify_animate_hide":"1","notify_animate_show":"","notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":"","scroll_close_reload":"","accept_close_reload":"","reject_close_reload":"","showagain_tab":"","showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#3c3c3f","show_once_yn":"","show_once":"5000","logging_on":"","as_popup":"","popup_overlay":"1","bar_heading_text":"","cookie_bar_as":"banner","popup_showagain_position":"bottom-right","widget_position":"left"};
var log_object = {"ajax_url":"https:\/\/bridgecrew.io\/wp-admin\/admin-ajax.php"};
</script>
<script src='../../wp-content/plugins/cookie-law-info/public/js/cookie-law-info-publicc1b4.js?ver=2.0.5' id='cookie-law-info-js'></script>
<script id='icwp-wpsf-shield-notbot-js-extra'>
var shield_vars_notbotjs = {"ajax":{"not_bot":"action=icwp-wpsf&exec=not_bot&exec_nonce=0186765d50&mod_slug=icwp-wpsf-ips"},"hrefs":{"ajax":"https:\/\/bridgecrew.io\/wp-admin\/admin-ajax.php"},"flags":{"run":true}};
</script>
<script src='../../wp-content/plugins/wp-simple-firewall/resources/js/shield/notbot0a6f.js?ver=12.0.13&amp;mtime=1634112619' id='icwp-wpsf-shield-notbot-js'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc0db0.html?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.8.1" />
<link rel='shortlink' href='../../index67e8.html?p=7278' />
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed0166.json?url=https%3A%2F%2Fbridgecrew.io%2Fblog%2Fcreating-a-secure-kubernetes-nginx-deployment-using-checkov%2F" />
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embedc82a?url=https%3A%2F%2Fbridgecrew.io%2Fblog%2Fcreating-a-secure-kubernetes-nginx-deployment-using-checkov%2F&amp;format=xml" />

<!--BEGIN: TRACKING CODE MANAGER BY INTELLYWP.COM IN HEAD//-->
<script>
        !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var t=analytics.methods[e];analytics[t]=analytics.factory(t)}analytics.load=function(e,t){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=t};analytics.SNIPPET_VERSION="4.1.0";
            analytics.load("UmMGeTYvALYzId7LpDNmgnTNJekbubxU");
            analytics.page();
            analytics.ready(function () {
                console.log("we got here segment")
                ga('require', 'linker');
                ga('linker:autoLink', ['bridgecrew.cloud']);
            });
        }}();
    </script>
<script>
        (function () {
          var zi = document.createElement('script');
          zi.type = 'text/javascript';
          zi.async = true;
          zi.src = 'https://ws.zoominfo.com/pixel/gUlfw6UVEvt5dRgDRKGv';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(zi, s);
        })();
      </script>
      <noscript>
        <img src="https://ws.zoominfo.com/pixel/gUlfw6UVEvt5dRgDRKGv" width="1" height="1" style="display: none;" />
      </noscript>
<!--END: https://wordpress.org/plugins/tracking-code-manager IN HEAD//--><link rel="icon" href="../../wp-content/uploads/cropped-favicon-32x32.png" sizes="32x32" />
<link rel="icon" href="../../wp-content/uploads/cropped-favicon-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../../wp-content/uploads/cropped-favicon-180x180.png" />
<meta name="msapplication-TileImage" content="../../wp-content/uploads/cropped-favicon-270x270.png" />
		<style id="wp-custom-css">
			.page-id-460 .site-container--bg-blue{
	background-size: 100% 1200px;
}

@media (max-width: 1440px){
	.page-id-460 .site-container--bg-blue{
		background-size: 100% 1050px;
	}
}

@media (max-width: 600px){
	.page-id-460 .site-container--bg-blue{
		background-size: 100% 2400px;
	}
}

.lazy-hidden, .entry img.lazy-hidden, img.thumbnail.lazy-hidden{
	background-color: transparent !important;
	background-image: none !important;
}

a[href*="https://www.bridgecrew.cloud/login/signUp"],
a[href*="https://www.bridgecrew.cloud/login/signIn"]{
	animation-name: activateLink;
  animation-duration: 3s;
}

/*
a[href*="https://www.bridgecrew.cloud/login/signUp?__hstc="],
a[href*="https://www.bridgecrew.cloud/login/signIn?__hstc="]{
	opacity: 1;
	pointer-events: auto;
	cursor: pointer;
}*/

@keyframes activateLink {
  0%   {opacity: 0.5; pointer-events: none;}
  100% {opacity: 1; pointer-events: auto; cursor: pointer;}
}
		</style>
		</head>

<body class="post-template-default single single-post postid-7278 single-format-standard body-5">

	<div class="site-container site-container--">

		<header class="main-header main-header--" data-theme="main-header--">
			
			<div class="container">
				
				<div class="main-header__container">
					
					<div class="main-header__logo">
						
						<a href="../../index.html" rel="home">
							<img src="../../wp-content/themes/bridgecrew/assets/images/uniphy2.svg" class="main-header__logo__regular">
				      <img src="../../wp-content/themes/bridgecrew/assets/images/uniphy.svg" class="main-header__logo__white">
						</a>
						
					</div>
					
					<div class="main-header__menu">
						
						<nav>
							<div class="menu-main-menu-container"><ul id="header-menu" class="menu"><li id="menu-item-5281" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5281"><a href="../../platform/index.html">Platform</a></li>
<li id="menu-item-6279" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6279"><a href="../../pricing/index.html">Pricing</a></li>
<li id="menu-item-1832" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1832"><a href="../../customers/index.html">Customers</a></li>
<li id="menu-item-1833" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-1833"><a href="../../resources/index.html">Resources</a>
<ul class="sub-menu">
	<li id="menu-item-2239" class="icon-blog menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-2239"><a href="../index.html">Blog</a></li>
	<li id="menu-item-2240" class="icon-docs menu-item menu-item-type-custom menu-item-object-custom menu-item-2240"><a href="https://docs.bridgecrew.io/docs">Docs</a></li>
	<li id="menu-item-4189" class="icon-changelog menu-item menu-item-type-custom menu-item-object-custom menu-item-4189"><a href="https://docs.bridgecrew.io/changelog">Changelog</a></li>
	<li id="menu-item-7654" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7654"><a href="../../webinar/2111-dev-day-cloudformation-devsecops-aws/index4ac1.html?sponsor=bridgecrew">CloudFormation workshop</a></li>
</ul>
</li>
</ul></div>						</nav>
						
					</div>
					
					<div class="main-header__cta">
						
						<a href="https://www.bridgecrew.cloud/login/signIn" target="_blank" class="ns-btn ns-btn--text">Sign in</a>
			      <a href="https://www.bridgecrew.cloud/login/signUp" target="_blank" class="ns-btn ns-btn--white">Sign up</a>
				
					</div>
				
				</div>
				
				<div class="main-header__menu-mobile">
					<a href="#ns-mobile-menu"  class="mburger mburger--squeeze">
						<b></b>
						<b></b>
						<b></b>
					</a>			
				</div>
				
				
				<div class="clearfix"></div>
			
			</div>
		</header><section class="section-block section-block--container-default section-block--with-sidebar">
	<div class="container">
		<main id="primary" class="site-main">
	
			
<article id="post-7278" class="single-post post-7278 post type-post status-publish format-standard hentry category-open-source-projects">
	<header class="entry-header single-post__header">
		<h1 class="entry-title single-post__title">Creating a secure Kubernetes NGINX deployment using Checkov</h1>			
			<p id="breadcrumbs"><span><span><a href="../../index.html">Home</a> / <span><a href="../index.html">Blog</a> / <span class="breadcrumb_last" aria-current="page">Creating a secure Kubernetes NGINX deployment using Checkov</span></span></span></span></p>			
			<div class="entry-meta single-post__meta">
				<ul class="post-categories">
	<li><a href="../category/open-source-projects/index.html" rel="category tag">Open source projects</a></li></ul>				<div class="clearfix"></div>
				<div class="author-info">
					<div class="author-info__image">
						<a href="../author/sgiguere/index.html">
						<img width="150" height="150" src="../../wp-content/uploads/Screen-Shot-2021-06-30-at-1.58.27-PM-150x150.png" class="avatar avatar-150 photo" alt="" loading="lazy" srcset="https://bridgecrew.io/wp-content/uploads/Screen-Shot-2021-06-30-at-1.58.27-PM-150x150.png 150w, https://bridgecrew.io/wp-content/uploads/Screen-Shot-2021-06-30-at-1.58.27-PM-24x24.png 24w, https://bridgecrew.io/wp-content/uploads/Screen-Shot-2021-06-30-at-1.58.27-PM-48x48.png 48w, https://bridgecrew.io/wp-content/uploads/Screen-Shot-2021-06-30-at-1.58.27-PM-96x96.png 96w, https://bridgecrew.io/wp-content/uploads/Screen-Shot-2021-06-30-at-1.58.27-PM-300x300.png 300w" sizes="(max-width: 150px) 100vw, 150px" />						</a>
					</div>
					
					<div class="author-info__content">
						<h3 class="author-info__title"><a href="../author/sgiguere/index.html">Steve Giguere</a></h3>
						<span class="posted-on"> <a href="index.html" rel="bookmark"><time class="entry-date published" datetime="2021-09-02T05:15:24-07:00">September 2, 2021</time><time class="updated" datetime="2021-09-02T06:10:27-07:00">September 2, 2021</time></a></span>					</div>
				</div>
				
			</div><!-- .entry-meta -->
				
	</header><!-- .entry-header -->
	
	
	<div class="entry-content single-post__content">
		<p><img loading="lazy" class="alignnone wp-image-7303 size-full" src="../../wp-content/uploads/NGINX-and-Checkov.png" alt="" width="1012" height="506" srcset="https://bridgecrew.io/wp-content/uploads/NGINX-and-Checkov.png 1012w, https://bridgecrew.io/wp-content/uploads/NGINX-and-Checkov-300x150.png 300w, https://bridgecrew.io/wp-content/uploads/NGINX-and-Checkov-768x384.png 768w" sizes="(max-width: 1012px) 100vw, 1012px" /></p>
<p><a href="https://www.shodan.io/search?query=nginx+200+OK">A quick search on Shodan</a> shows over 17 million active deployments of NGINX that currently return a 200 OK response. For those not familiar with NGINX, it is <a href="https://w3techs.com/technologies/overview/web_server">the most popular web server</a> on the planet. It can also be used as a reverse proxy, load balancer, mail proxy, and HTTP cache.</p>
<p>Shodan is a way of searching the internet for the unseen elements of online interactions and is often used by attackers and researchers alike to find anything, from open docker API ports to cloud misconfigurations to publicly accessible IoT devices like webcams.</p>
<p>While not all of these NGINX servers will be pods in a Kubernetes cluster, it does show the magnitude of adoption. It also shows why we really should do everything possible to secure them, as they are the single most implemented front-end applications in modern cloud-native environments.</p>
<p>With such widespread adoption, one might assume a simple DuckDuckGo search would reveal a plethora of examples of secure Kubernetes deployments of NGINX to get us started on the right foot.</p>
<p>Recently, I decided to create a secure NGINX for a rather simple website I was creating for my <a href="https://www.twitch.tv/clust3rf8ck">cloud-native Twitch show</a>. So, I went hunting and gathering for what materials the hive mind of the internet presented. While they most likely exist, I fell short of finding them. At the very least, any secure defaults or blogs were vastly outnumbered and over SEO’d by the volume of “getting started” examples, which paid little mind to security.</p>
<p>For example, the most popular search result and I can only guess, the starting example would be directly from the <a href="https://kubernetes.io/docs/concepts/services-networking/connect-applications-service/">Kubernetes documentation</a>. It is a basic deployment with NGINX as the pod and an associated service that exposes it.</p>
<p>NOTE: My website image <code>eurogig/clust3rf8ck:0.1</code> Dockerfile uses <code>FROM arm64v8/nginx:alpine</code></p>
<pre>apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app: clust3rf8ck
  name: clust3rf8ck
spec:
  replicas: 1
  selector:
    matchLabels:
      app: clust3rf8ck
  template:
    metadata:
      labels:
        app: clust3rf8ck
    spec:
      containers:
      - image: eurogig/clust3rf8ck:0.1
        name: clust3rf8ck
        resources: {}
---
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    app: clust3rf8ck
  name: cflb
spec:
  ports:
  - name: 80-80
    port: 80
    protocol: TCP
    targetPort: 80
  selector:
    app: clust3rf8ck
  type: LoadBalancer
status:
  loadBalancer: {}</pre>
<p>As an experiment (which prompted this blog), I decided to start with this as my default Kubernetes YAML and see what Checkov, an open-source IaC scanning tool, thought of my efforts so far.</p>
<pre><span style="font-weight: 400;">kubernetes scan results:</span>

<span style="font-weight: 400;">Passed checks: 71, Failed checks: 19, Skipped checks: 0</span></pre>
<p>Only 19 failed checks! Or more positively put, 71/90! That’s a solid 79%. I could pass a CKx exam with a score like that! Unfortunately, as is often the cliched yet correct phrase in security circles, security needs to get it right 100% of the time and the baddies only need to get it right once.</p>
<p>19 failed checks were 19 too many for me to accept, and so I started looking through what it took to get a 100% score with Checkov. Here is my breakdown of that journey broken down into Easy wins, the doable, the complex, and in some cases, the confusing.</p>
<h2>The easy wins</h2>
<p><strong>Check: CKV_K8S_23:</strong> &#8220;Minimize the admission of root containers&#8221;</p>
<p>FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck</p>
<p><strong>Why this is important:</strong> The root user (UID 0) is the default user inside a container (assuming Docker). If you don’t specify a non-root user, the container runs as root. A root user inside a container can basically run every command as a root user on a traditional host system. And much worse, in the case of a container breakout, the root user can access and execute anything on the underlying host as a highly privileged user as well. This means host filesystem mounts are at risk, access to username/passwords, and many other risks associated with root access on a node.  The keys to the kingdom are yours.</p>
<p>This check is verifying that a user has been specified as a part of the k8s object-level Security Context. This was an easy win, as the NGINX container runs as user <em>nginx</em> and does not require being root to execute. It was just a case of being a bit more declarative in my deployment YAML. Experienced users might notice the <em>runAsUser</em> is set to something other than the default NGINX UID of 101. We’ll get to that later.</p>
<p><strong>Example:</strong></p>
<pre>spec:
  securityContext:
    runAsNonRoot: true
    runAsUser: 10014</pre>
<p><strong>Check: CKV_K8S_21</strong>: &#8220;The default namespace should not be used&#8221;<br />
FAILED for resource: Service.cflb.default</p>
<p><strong>Why this is important</strong>: For isolation purposes of your applications and to avoid unnecessary accidental disruption with other services, you should avoid the <em>default</em> namespace. Sometimes this fires simply because the namespace is applied imperatively to the deployment via the <code>kubectl apply -f clust3rf8ck.yaml -n &lt;namespace&gt;</code>. It’s an easy win and best practice to add it directly to the code so it’s 100% clear. Even adding the creation of the namespace into your YAML isn’t a problem, as it will only throw a warning if it’s already present.</p>
<p><strong>Example (namespace added to this a k8s object):</strong></p>
<pre>metadata:
  labels:
    app: nginx
  name: nginx
  namespace: webserver</pre>
<p><strong>Check: CKV_K8S_20</strong>: &#8220;Containers should not run with allowPrivilegeEscalation&#8221;<br />
FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</p>
<p><strong>Why this is important:</strong> This one probably seems obvious but the devil is in the details. Privilege Escalation is bad. The AllowPrivilegeEscalation set to false in the pod security context controls ensures that no child process of a container can gain more privileges than its parent. Sudo is such a common capability that it can be used with an almost flippant level of utility. It’s often used for debugging a running container. It also provides a form of root access that can enable an attacker to do things like mounting the file system from the node and to potentially move laterally to higher-risk targets. In more detail, setting this to false ensures the <code>no_new_privs</code> flag gets set on the container process. This flag will prevent <code>setuid</code> binaries, changing the effective user ID, enabling extra capabilities, and even blocks the use of <code>ping</code>.</p>
<p>This is an easy win in particular because you should not need to escalate your privilege in production, and it is one of the single most important controls to apply.</p>
<p><strong>Check: CKV_K8S_15</strong>: &#8220;Image Pull Policy should be Always&#8221;<br />
FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</p>
<p><strong>Why this is important:</strong> The current Kubernetes default is bordering on confusing and I almost put this check into that category later on in this article. It is still an easy win though! The default for a deployment or stateful set is in fact <em>IfNotPresent</em>. While this sounds reasonable, setting it to <em>Always</em> ensures new pods pull images from the source with valid credentials, instead of pulling the image locally without credentials. In the case where we have also failed CKV_K8S_43 and are pulling only by tag, we cannot guarantee what image we are actually pulling. It is confusing because the Kubernetes documentation for this also says that, “When imagePullPolicy is defined without a specific value, it is also set to Always,” which is not an obvious double standard. It is a best practice to add it explicitly to the code as <em>Always</em>.</p>
<p><strong>Check: CKV_K8S_28:</strong> &#8220;Minimize the admission of containers with the NET_RAW capability&#8221;<br />
FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</p>
<p><strong>Why this is important:</strong> The NET_RAW capability empowers total control and visibility over network traffic. Even traditional security and IT infosec enthusiasts with no cloud-native experience will understand how bad this sounds. So much so that it is best practice to explicitly drop this capability in order to make it 100% clear that this is not required for the execution of this deployment. For NGINX and almost all other applications, this is definitely NOT a requirement. In fact, it is worth questioning any application (some security applications may actually need this) which claims to require it. This is added to the security context for the container and can be solved by adding <code>-ALL</code> or specifically <code>- NET_RAW</code>.</p>
<pre>securityContext:
      capabilities:
        drop:
+        - ALL</pre>
<p><strong>Check: CKV_K8S_43:</strong> &#8220;Image should use digest&#8221;<br />
FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</p>
<p><strong>Why this is important:</strong> Many IaC scanners will check to make sure you are not using something vague like <em>latest</em> as your container tag. There is a Checkov rule for this as well. We passed that check because we were using a specific version tag, which is a known good practice. As we improve our security and become more acutely aware of how supply chain attacks can occur, it is becoming more common to be completely explicit about which container image we want by using the SHA256 digest. This digest is unique to the specific build of the image and will change on a new build, even if the image tag does NOT! That means that a malicious actor in your supply chain, who can rebuild and push a malicious version of your container with the same tag (eg. nginx:1.17), cannot override the image your deployment is using as the digest will change. This is an easily implemented risk mitigation strategy. While not as secure as container image signing, it is a vast improvement for supply chain security.</p>
<pre>containers:
- name: nginx
- image: nginx@1.17
+ image: nginx@sha256:45b23dee08af5e43a7fea6c4cf9c25ccf269ee113168c19722f87876677c5cb2</pre>
<p><strong>Check: CKV_K8S_38:</strong> &#8220;Ensure that Service Account Tokens are only mounted where necessary&#8221;<br />
FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck</p>
<p><strong>Why this is important</strong>: Because service account tokens are the keys to access to the cluster, should an attack achieve shell or remote code execution access to your running container, having access to your service account token means they have access to all of the associated capabilities. When you create a pod, if you do not specify a service account, it is automatically assigned the default service account in the same namespace. You can access the Kubernetes API from inside a pod using automatically mounted service account credentials. From a DevOps perspective, this sounds convenient. From a security perspective, it sounds scary!</p>
<p>Every service account has a secret related to it; this secret contains a bearer token. This Service Account token is used during the authentication stage and can become useful for attackers if the service account is privileged and they have access to such a token. With this token, an attacker can easily impersonate the service account and use REST APIs. Very much an easy win one-liner.</p>
<p><strong>Example (Pod spec within the deployment):</strong></p>
<pre class="p1">spec:

+  automountServiceAccountToken: false</pre>
<h2>The doable</h2>
<p><strong>Check: CKV_K8S_9:</strong><span style="font-weight: 400;"> &#8220;Readiness Probe Should be Configured&#8221;</span></p>
<p><span style="font-weight: 400;">        FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</span></p>
<p><strong>Check: CKV_K8S_8:</strong><span style="font-weight: 400;"> &#8220;Liveness Probe Should be Configured&#8221;</span></p>
<p><span style="font-weight: 400;">        FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</span></p>
<p><strong>Check: CKV_K8S_12:</strong><span style="font-weight: 400;"> &#8220;Memory requests should be set&#8221;</span></p>
<p><span style="font-weight: 400;">        FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</span></p>
<p><strong>Check: CKV_K8S_13:</strong><span style="font-weight: 400;"> &#8220;Memory limits should be set&#8221;</span></p>
<p><span style="font-weight: 400;">        FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</span></p>
<p><strong>Check: CKV_K8S_10:</strong><span style="font-weight: 400;"> &#8220;CPU requests should be set&#8221;</span></p>
<p><span style="font-weight: 400;">        FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</span></p>
<p><strong>Check: CKV_K8S_11:</strong><span style="font-weight: 400;"> &#8220;CPU limits should be set&#8221;</span></p>
<p><span style="font-weight: 400;">        FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</span></p>
<p><strong>Why this is important</strong>: The “Availability” part of the CIA triad (Confidentiality, Integrity and …) is an often overlooked part of security.  Ensuring that k8s have the ability to know when your pods are gone or running slower (possibly due to a crypto-miner) is a key part of security and just general good functionality at scale. Liveness and readiness probes are key to ensuring the availability of your pod and deployment, but with each application and base image comes the challenges of creating an appropriate check to best represent both an indication it is ready and that it is currently alive.</p>
<p>Availability checks like this also go hand-in-hand with the CPU and memory limit requirements to ensure these are set correctly. In our recent study on the <a href="../open-source-helm-security-research/index.html">State of Helm</a>, we found that these were some of the most often misconfigured (missing) parts of a secure deployment.</p>
<p>Like the liveness and readiness probes, the trouble with CPU and memory limits is knowing what are good parameters to set early on.  It’s a chicken and egg scenario where you don’t know what sensible limits look like before running it in test. A good practice is to still add these fields, even with slightly more generous allowances, and to make testing the performance of production pods part of the development test process. For details on the settings I used for the liveness, readiness, and CPU and memory limits, check the full deployment at the end of this article.</p>
<h2><b>The confusing/complicated</b></h2>
<p><strong>Check: CKV_K8S_29</strong><b>:</b><span style="font-weight: 400;"> &#8220;Apply security context to your pods and containers&#8221;</span></p>
<p><span style="font-weight: 400;">        FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck</span></p>
<p><strong>Check: CKV_K8S_30:</strong><span style="font-weight: 400;"> &#8220;Apply security context to your pods and containers&#8221;</span></p>
<p><span style="font-weight: 400;">        FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</span></p>
<p><b>Why this is important</b><span style="font-weight: 400;">: Many of the security defaults aren’t ideal and so many example deployments do NOT have the Security Context section present at all! What is confusing about this is that there are two places where Security Context can be added and it is not always clear within which the misconfiguration has occurred.  </span></p>
<p><strong>Example: </strong></p>
<p><span style="font-weight: 400;">CKV_K8S_29 is for the k8s object</span></p>
<p><span style="font-weight: 400;">CKV_K8S_30 is for the container itself.  # as indicated by the subtle “(container 0)”</span></p>
<p><strong>Below is an example of one such check:</strong></p>
<p><strong>Check: CKV_K8S_40</strong><span style="font-weight: 400;">: &#8220;Containers should run as a high UID to avoid host conflict&#8221;</span></p>
<p><span style="font-weight: 400;">        FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck</span></p>
<p><span style="font-weight: 400;">The hint as to which security context this belongs in is indicated by the missing container identifier in the FAILED description. From this, we can learn that it belongs in the k8s object security context.  </span></p>
<p><b>Why this is important</b><span style="font-weight: 400;">:  Kubernetes hosts use UIDs &lt; 1000 for system-level function, so using a high UID for the default USER in your container is ideal to ensure safe passage and no conflicts with system-level UID and capabilities. Checkov looks to ensure the default user has a UID over 10000 to be absolutely sure. The caveat in some cases (and certainly our case) is that we don’t have control over the default UID. In our case, the default UID for the NGINX user is 101 and the group ID is 101. This is not ideal as 101 was a common default for more than just NGINX. The good news is that we can change the UID and GID in our Dockerfile, even for an Alpine-based container, so that we are adhering to this best practice. Let’s take a quick look at how.</span></p>
<p>In your Docker file add the following line:</p>
<pre><span style="font-weight: 400;">RUN apk --no-cache add shadow &amp;&amp; usermod -u 10014 nginx &amp;&amp; \</span>

<span style="font-weight: 400;">    groupmod -g 10014 nginx &amp;&amp; apk del shadow</span></pre>
<p>While Alpine does not have the utilities usermod and groupmod by default, you can temporarily install a utility called shadow which does add these. From here we can execute a change to our NGINX UID and GID and remove shadow in a single layer. You may recall that in our first check summary we had set our runAsUser to 10014. This is why that worked. Here it is again.</p>
<pre>spec:
securityContext:
runAsNonRoot: true
runAsUser: 10014</pre>
<p><strong>Check: CKV_K8S_22:</strong> &#8220;Use read-only filesystem for containers where possible&#8221;<br />
FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</p>
<p><strong>Why it is complicated:</strong> Some applications perform caching or occasional writes to tmp files to improve performance to retain a temporary state. A web server is one such application. However, attempts to create a read-only filesystem can lead to a much more secure result. A writable filesystem is bad, as attackers will often not include a malicious payload by default, but will hide a backdoor that does not match any known malware signature or download a payload via remote code execution. This allows them to retrieve the payload from a command and control center at runtime. A read-only filesystem means they will not be able to create the payload blocking the attack early in the MITRE ATT&amp;CK kill chain.</p>
<p>Here’s how I did it for my NGINX deployment. It’s not perfect as there are still writable locations but it’s far better than a fully writable filesystem. I would welcome any pull requests on my git repo with an improved solution:</p>
<p><span style="font-weight: 400;">In the container security context (again indicated by the “container 0”), I added the following:</span></p>
<pre><span style="font-weight: 400;">securityContext:</span>

<span style="font-weight: 400;">          readOnlyRootFilesystem: true</span></pre>
<p>In order to create the temporary container cache, I used the following volumes to create a type emptyDir and mounted them to the container in my specific cache locations.</p>
<pre>        volumeMounts:
        - mountPath: /var/cache/nginx
          name: cache-volume
        - mountPath: /var/run
          name: pid-volume</pre>
<p>The emptyDir volume</p>
<pre>      volumes:
      - name: cache-volume
        emptyDir: {}
      - name: pid-volume</pre>
<p><strong>Check: CKV_K8S_31</strong>: &#8220;Ensure that the seccomp profile is set to docker/default or runtime/default&#8221;<br />
FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck</p>
<p><strong>Why it is confusing</strong>: To know Kubernetes, you need to first know Linux. Seccomp is a Linux security profile that prohibits the use of certain system calls and should be associated with your deployment but is often left undefined. The byproduct of leaving it is that it will run containers with seccomp set to “unconfined,” which means the container has the capability to run a rather dangerous breadth of system calls. Simply specifying the default of either runtime or docker greatly tightens the security capabilities of the resulting deployment. Check out this Docker article for a full list of what is blocked simply by applying the default runtime profile. Note: Kubernetes 1.22 introduced the default (when undeclared) seccomp being set to our desired state of <code>RuntimeDefault</code> rather than <code>unconfined</code>, but this is only in alpha at the moment. It is still best practice to declare it specifically.</p>
<p><strong>Check: CKV_K8S_37</strong><span style="font-weight: 400;"><strong>:</strong> &#8220;Minimize the admission of containers with capabilities assigned&#8221;</span></p>
<p><span style="font-weight: 400;">        FAILED for resource: Deployment.clust3rf8ck.clust3rf8ck (container 0) &#8211; clust3rf8ck</span></p>
<p><b>Why it is confusing</b><span style="font-weight: 400;">:  This is a confusing and/or complicated error because some capabilities might be required. </span></p>
<p><i><span style="font-weight: 400;">It’s worth noting that rules within Checkov can be “suppressed” in cases where they simply do not apply or cannot be overcome and the security risk has been suitably accepte</span></i><span style="font-weight: 400;">d.  </span></p>
<p><span style="font-weight: 400;">Knowing exactly which capabilities are required for what is part of the engineering design, which goes back to the mantra to know Kubernetes you must first know Linux. The idea here is to instill least privilege by default through declaring as little capability as possible. This check was also highlighted during our </span><a href="../open-source-helm-security-research-part-3/index.html"><span style="font-weight: 400;">State of Helm research</span></a><span style="font-weight: 400;">. This specific check at the time of writing this blog looks to see that we add <em>drop: ALL</em> specifically in the container security context. This check is also confusing because it applies only to the container security context “container” and not the Pod security context. </span></p>
<p><code>securityContext:<br />
capabilities:<br />
drop:<br />
+        - ALL</code></p>
<h2>The code</h2>
<p>The resulting Dockerfile and NGINX deployment passes Checkov with a 100% success rate.</p>
<pre>kubernetes scan results:

Passed checks: 90, Failed checks: 0, Skipped checks: 0</pre>
<p>A VSCode diff between my start and finish.</p>
<p><img loading="lazy" class="alignnone wp-image-7300 size-full" src="../../wp-content/uploads/Creating-a-Secure-Nginx-Deployment-using-Checkov.gif" alt="a gif of a VSCode diff " width="1400" height="788" /></p>
<p>The code is below and also used in the <a href="https://github.com/eurogig/clust3rf8ck-site">Github repo</a>. If you’d like more tech detail on how they work (or if you find a problem), why not join our <a href="https://codifiedsecurity.slack.com/">Slack community</a> and become part of the secure IaC solution!</p>
<h2>The Dockerfile</h2>
<pre>FROM nginx:alpine as build

RUN apk add --update \
    wget

ARG HUGO_VERSION="0.84.1"
RUN wget --quiet "https://github.com/gohugoio/hugo/releases/download/v${HUGO_VERSION}/hugo_${HUGO_VERSION}_Linux-64bit.tar.gz" &amp;&amp; \
    tar xzf hugo_${HUGO_VERSION}_Linux-64bit.tar.gz &amp;&amp; \
    rm -r hugo_${HUGO_VERSION}_Linux-64bit.tar.gz &amp;&amp; \
    mv hugo /usr/bin

COPY clust3rf8ck/ /site
WORKDIR /site
RUN hugo

#Copy static files to NGINX
FROM arm64v8/nginx:alpine
COPY --from=build /site/public /usr/share/nginx/html
COPY --from=build /site/default.conf /etc/nginx/conf.d/default.conf
RUN mkdir -p /var/cache/nginx

RUN apk --no-cache add shadow &amp;&amp; usermod -u 10014 nginx &amp;&amp; \
    groupmod -g 10014 nginx

RUN apk del shadow

RUN chown -R nginx:nginx /usr/share/nginx/html &amp;&amp; \
        chown -R nginx:nginx /var/cache/nginx &amp;&amp; \
        chown -R nginx:nginx /var/log/nginx &amp;&amp; \
        chown -R nginx:nginx /etc/nginx/conf.d
RUN touch /var/run/nginx.pid &amp;&amp; \
        chown -R nginx:nginx /var/run/nginx.pid

USER nginx

WORKDIR /usr/share/nginx/html</pre>
<h2>The NGINX Deployment</h2>
<pre>apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app: clust3rf8ck
  name: clust3rf8ck
  namespace: clust3rf8ck
spec:
  replicas: 2
  selector:
    matchLabels:
      app: clust3rf8ck
  strategy: {}
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: clust3rf8ck
      annotations:
        seccomp.security.alpha.kubernetes.io/pod: "docker/default"
    spec:
      affinity:
        podAntiAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
          - labelSelector:
              matchExpressions:
              - key: app
                operator: In
                values:
                - clust3rf8ck
            topologyKey: "kubernetes.io/hostname"
      containers:
      - image: eurogig/clust3rf8ck@sha256:a374eb5853e0e17d06bcf37afc2fcb40892aa3477caf362ea3581c71373cb90a
        name: clust3rf8ck
        imagePullPolicy: Always
        resources:
          limits:
            cpu: "1"
            memory: "200Mi"
          requests:
            cpu: "0.6"
            memory: "100Mi"
        livenessProbe:
          exec:
            command:
            - /bin/sh
            - -c
            - "[ -f /var/run/nginx.pid ] &amp;&amp; ps -A | grep nginx"
          initialDelaySeconds: 10
          periodSeconds: 5
        readinessProbe:
          httpGet:
            scheme: HTTP
            path: /index.html
            port: 8080
          initialDelaySeconds: 10
          periodSeconds: 5
        securityContext:
          readOnlyRootFilesystem: true
          allowPrivilegeEscalation: false
          capabilities:
            drop:
              - ALL
              - NET_RAW
        volumeMounts:
        - mountPath: /var/cache/nginx
          name: cache-volume
        - mountPath: /var/run
          name: pid-volume
      automountServiceAccountToken: false
      securityContext:
        runAsNonRoot: true
        runAsUser: 10014
        runAsGroup: 10014
      volumes:
      - name: cache-volume
        emptyDir: {}
      - name: pid-volume
        emptyDir: {}
status: {}
---
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    app: clust3rf8ck
  name: cflb
  namespace: clust3rf8ck
spec:
  ports:
  - name: 80-80
    port: 80
    protocol: TCP
    targetPort: 8080
  selector:
    app: clust3rf8ck
  type: LoadBalancer</pre>
	</div><!-- .entry-content -->

	<footer class="entry-footer single-post__footer">
				<div class="clearfix"></div>
	</footer><!-- .entry-footer -->

	
</article><!-- #post-7278 -->
				
							
		</main><!-- #main -->
		
		
<div class="section-block__sidebar">
	<div class="section-block__sidebar__inner">
		<section id="custom_html-2" class="widget_text widget-odd widget-first widget-1 sidebar-widget--subscribe sidebar-widget widget_custom_html"><div class="textwidget custom-html-widget">Sign up for our monthly newsletter to stay up to date with all things Bridgecrew.

<!--[if lte IE 8]>
<script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2-legacy.js"></script>
<![endif]-->
<script charset="utf-8" type="text/javascript" src="http://js.hsforms.net/forms/v2.js"></script>
<script>
  hbspt.forms.create({
	portalId: "7203144",
	formId: "9f158ea0-b6b2-465e-a756-69ac195a1f52"
});
</script></div></section><section id="text-3" class="widget-even widget-2 sidebar-widget widget_text"><h3 class="sidebar-widget__title">Share this post</h3>			<div class="textwidget"><div class="heateor_sss_sharing_container heateor_sss_horizontal_sharing" ss-offset="0" heateor-sss-data-href='https://bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/'><ul class="heateor_sss_sharing_ul"><li class="heateorSssSharingRound"><i style="width:32px;height:32px;border-radius:999px;" alt="Facebook" Title="Facebook" class="heateorSssSharing heateorSssFacebookBackground" onclick='heateorSssPopup("https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fbridgecrew.io%2Fblog%2Fcreating-a-secure-kubernetes-nginx-deployment-using-checkov%2F")'><ss style="display:block;border-radius:999px;" class="heateorSssSharingSvg heateorSssFacebookSvg"></ss></i></li><li class="heateorSssSharingRound"><i style="width:32px;height:32px;border-radius:999px;" alt="Twitter" Title="Twitter" class="heateorSssSharing heateorSssTwitterBackground" onclick='heateorSssPopup("http://twitter.com/intent/tweet?text=Creating%20a%20secure%20Kubernetes%20NGINX%20deployment%20using%20Checkov&amp;url=https%3A%2F%2Fbridgecrew.io%2Fblog%2Fcreating-a-secure-kubernetes-nginx-deployment-using-checkov%2F")'><ss style="display:block;border-radius:999px;" class="heateorSssSharingSvg heateorSssTwitterSvg"></ss></i></li><li class="heateorSssSharingRound"><i style="width:32px;height:32px;border-radius:999px;" alt="Linkedin" Title="Linkedin" class="heateorSssSharing heateorSssLinkedinBackground" onclick='heateorSssPopup("http://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fbridgecrew.io%2Fblog%2Fcreating-a-secure-kubernetes-nginx-deployment-using-checkov%2F&amp;title=Creating%20a%20secure%20Kubernetes%20NGINX%20deployment%20using%20Checkov")'><ss style="display:block;border-radius:999px;" class="heateorSssSharingSvg heateorSssLinkedinSvg"></ss></i></li></ul><div class="heateorSssClear"></div></div>
</div>
		</section><section id="categories-3" class="widget-odd widget-last widget-3 sidebar-widget widget_categories"><h3 class="sidebar-widget__title">Categories</h3>
			<ul>
					<li class="cat-item cat-item-14"><a href="../category/cloud-security/index.html">Cloud security</a>
</li>
	<li class="cat-item cat-item-29"><a href="../category/company-news/index.html">Company news</a>
</li>
	<li class="cat-item cat-item-16"><a href="../category/devsecops/index.html">DevSecOps</a>
</li>
	<li class="cat-item cat-item-13"><a href="../category/infrastructure-as-code/index.html">Infrastructure as code</a>
</li>
	<li class="cat-item cat-item-12"><a href="../category/open-source-projects/index.html">Open source projects</a>
</li>
	<li class="cat-item cat-item-22"><a href="../category/product-update/index.html">Product update</a>
</li>
	<li class="cat-item cat-item-1"><a href="../category/uncategorized/index.html">Uncategorized</a>
</li>
			</ul>

			</section>	
		<div class="clearfix"></div>
	</div>
	
	<div class="clearfix"></div>
</div>
<div class="clearfix"></div>		
	
	</div>
</section>
<div class="clearfix"></div>

	<div class='yarpp yarpp-related yarpp-related-website yarpp-template-yarpp-template-thumbnail'>

<section class="section-block section-block--container-default section-block--no-top-padding">
	<div class="container">
		<h2 class="section-block__title">Related Posts</h2>

			<div class="post-box__container">
				<div class="clearfix"></div>
								<article id="post-5880" class="post-box post-5880 post type-post status-publish format-standard has-post-thumbnail hentry category-open-source-projects tag-checkov tag-helm tag-helm-scanner tag-research tag-security">
					
										<a href="../open-source-helm-security-research-part-3/index.html" class="post-box__image" style="background-image: url('../../wp-content/uploads/Helm-Research-Part-3-768x384.jpg');">
						
					</a>
					
					<header class="post-box__header">
						<h3 class="post-box__title"><a href="../open-source-helm-security-research-part-3/index.html" rel="bookmark">Part 3: Top trends from analyzing the security posture of open-source Helm charts</a></h3>													<div class="post-box__meta">
								<div class="post-box__meta-image"><img width="150" height="150" src="../../wp-content/uploads/matt-headshot-150x150.jpg" class="avatar avatar-150 photo" alt="" loading="lazy" srcset="https://bridgecrew.io/wp-content/uploads/matt-headshot-150x150.jpeg 150w, https://bridgecrew.io/wp-content/uploads/matt-headshot-300x300.jpeg 300w, https://bridgecrew.io/wp-content/uploads/matt-headshot-768x768.jpeg 768w, https://bridgecrew.io/wp-content/uploads/matt-headshot-24x24.jpeg 24w, https://bridgecrew.io/wp-content/uploads/matt-headshot-48x48.jpeg 48w, https://bridgecrew.io/wp-content/uploads/matt-headshot-96x96.jpeg 96w, https://bridgecrew.io/wp-content/uploads/matt-headshot.jpeg 800w" sizes="(max-width: 150px) 100vw, 150px" /></div><div class="post-box__meta-text"><span class="byline"> <span class="author vcard"><a class="url fn n" href="../author/mattbridgecrew-io/index.html">Matt Johnson</a></span></span><span class="posted-on"> <a href="../open-source-helm-security-research-part-3/index.html" rel="bookmark"><time class="entry-date published" datetime="2021-05-06T05:00:59-07:00">May 6, 2021</time><time class="updated" datetime="2021-05-06T07:14:47-07:00">May 6, 2021</time></a></span></div>							</div><!-- .entry-meta -->
												</header><!-- .entry-header -->
					
					<div class="post-box__content">
					<p>So far, in this three-part series on the open-source Helm security state, we&#8217;ve discussed: The&#8230;</p>
<ul class="post-categories">
	<li><a href="../category/open-source-projects/index.html" rel="category tag">Open source projects</a></li></ul>	
						<div class="clearfix"></div>
					</div><!-- .entry-content -->
					
				</article>
								<article id="post-2310" class="post-box post-2310 post type-post status-publish format-standard has-post-thumbnail hentry category-infrastructure-as-code category-open-source-projects tag-checkov tag-kubernetes tag-static-analysis">
					
										<a href="../kubernetes-static-code-analysis-with-checkov/index.html" class="post-box__image" style="background-image: url('../../wp-content/uploads/2020/06/OSS-3-768x384.png');">
						
					</a>
					
					<header class="post-box__header">
						<h3 class="post-box__title"><a href="../kubernetes-static-code-analysis-with-checkov/index.html" rel="bookmark">Kubernetes static code analysis with Checkov</a></h3>													<div class="post-box__meta">
								<div class="post-box__meta-image"><img width="150" height="150" src="../../wp-content/uploads/2020/06/download-150x150.jpg" class="avatar avatar-150 photo" alt="" loading="lazy" srcset="https://bridgecrew.io/wp-content/uploads/2020/06/download-150x150.jpg 150w, https://bridgecrew.io/wp-content/uploads/2020/06/download-24x24.jpg 24w, https://bridgecrew.io/wp-content/uploads/2020/06/download-48x48.jpg 48w, https://bridgecrew.io/wp-content/uploads/2020/06/download-96x96.jpg 96w, https://bridgecrew.io/wp-content/uploads/2020/06/download.jpg 200w" sizes="(max-width: 150px) 100vw, 150px" /></div><div class="post-box__meta-text"><span class="byline"> <span class="author vcard"><a class="url fn n" href="../author/barakbridgecrew-io/index.html">Barak Schoster</a></span></span><span class="posted-on"> <a href="../kubernetes-static-code-analysis-with-checkov/index.html" rel="bookmark"><time class="entry-date published" datetime="2020-06-24T06:14:23-07:00">June 24, 2020</time><time class="updated" datetime="2021-02-25T04:43:04-08:00">February 25, 2021</time></a></span></div>							</div><!-- .entry-meta -->
												</header><!-- .entry-header -->
					
					<div class="post-box__content">
					<p>Over the past few years, Kubernetes has emerged as the go-to for container orchestration, and&#8230;</p>
<ul class="post-categories">
	<li><a href="../category/infrastructure-as-code/index.html" rel="category tag">Infrastructure as code</a></li>
	<li><a href="../category/open-source-projects/index.html" rel="category tag">Open source projects</a></li></ul>	
						<div class="clearfix"></div>
					</div><!-- .entry-content -->
					
				</article>
								<article id="post-4392" class="post-box post-4392 post type-post status-publish format-standard has-post-thumbnail hentry category-open-source-projects tag-checkov tag-helm tag-kubernetes">
					
										<a href="../scan-helm-charts-for-kubernetes-misconfigurations-with-checkov/index.html" class="post-box__image" style="background-image: url('../../wp-content/uploads/checkov-helm-768x384.jpg');">
						
					</a>
					
					<header class="post-box__header">
						<h3 class="post-box__title"><a href="../scan-helm-charts-for-kubernetes-misconfigurations-with-checkov/index.html" rel="bookmark">Scan Helm charts for Kubernetes misconfigurations with Checkov</a></h3>													<div class="post-box__meta">
								<div class="post-box__meta-image"><img width="150" height="150" src="../../wp-content/uploads/matt-headshot-150x150.jpg" class="avatar avatar-150 photo" alt="" loading="lazy" srcset="https://bridgecrew.io/wp-content/uploads/matt-headshot-150x150.jpeg 150w, https://bridgecrew.io/wp-content/uploads/matt-headshot-300x300.jpeg 300w, https://bridgecrew.io/wp-content/uploads/matt-headshot-768x768.jpeg 768w, https://bridgecrew.io/wp-content/uploads/matt-headshot-24x24.jpeg 24w, https://bridgecrew.io/wp-content/uploads/matt-headshot-48x48.jpeg 48w, https://bridgecrew.io/wp-content/uploads/matt-headshot-96x96.jpeg 96w, https://bridgecrew.io/wp-content/uploads/matt-headshot.jpeg 800w" sizes="(max-width: 150px) 100vw, 150px" /></div><div class="post-box__meta-text"><span class="byline"> <span class="author vcard"><a class="url fn n" href="../author/mattbridgecrew-io/index.html">Matt Johnson</a></span></span><span class="posted-on"> <a href="../scan-helm-charts-for-kubernetes-misconfigurations-with-checkov/index.html" rel="bookmark"><time class="entry-date published" datetime="2020-11-16T10:45:17-08:00">November 16, 2020</time><time class="updated" datetime="2020-11-16T10:12:35-08:00">November 16, 2020</time></a></span></div>							</div><!-- .entry-meta -->
												</header><!-- .entry-header -->
					
					<div class="post-box__content">
					<p>For as long as there have been deployment tools, there have been efforts to modularize&#8230;</p>
<ul class="post-categories">
	<li><a href="../category/open-source-projects/index.html" rel="category tag">Open source projects</a></li></ul>	
						<div class="clearfix"></div>
					</div><!-- .entry-content -->
					
				</article>
								<div class="clearfix"></div>
			</div>

			</div>
		
		<div class="clearfix"></div>
	</div>
</section>
</div>
		
<div class="clearfix"></div>
	<footer class="main-footer">
		
		<div class="container">
			
			<div class="main-footer__widgets">
				
				<div class="main-footer__widgets__column">
					<section id="media_image-2" class="widget-odd widget-first widget-1 footer-widget widget_media_image"><a href="../../index.html"><img src="../../wp-content/themes/bridgecrew/assets/images/uniphy.svg" class="image wp-image-5578  attachment-medium size-medium" alt="Bridgecrew by Prisma Cloud white logo" loading="lazy" style="max-width: 100%; height: auto;" height="37.21" width="148.94" /></a></section><section id="text-2" class="widget-even widget-last widget-2 footer-widget widget_text">			<div class="textwidget">	<ul class="social-footer">
				<li class="social-footer__item social-footer__item--linkedin"><a href="https://www.linkedin.com/company/bridgecrew/" target="_blank" rel="noopener"></a></li>
				<li class="social-footer__item social-footer__item--facebook"><a href="https://www.facebook.com/bridgecrewio/" target="_blank" rel="noopener"></a></li>
				<li class="social-footer__item social-footer__item--twitter"><a href="https://twitter.com/bridgecrewio" target="_blank" rel="noopener"></a></li>
				<li class="social-footer__item social-footer__item--github"><a href="https://github.com/bridgecrewio" target="_blank" rel="noopener"></a></li>
			</ul>
	<div class="clearfix"></div>
	
<p><a href="mailto: support@uniphy.com"><strong>support@uniphy.com</strong></a></p>
</div>
		</section>				</div>
				
				<div class="main-footer__widgets__column">
					<section id="nav_menu-2" class="widget-odd widget-last widget-first widget-1 footer-widget widget_nav_menu"><h4 class="footer-widget__title">Platform</h4><div class="menu-platform-container"><ul id="menu-platform" class="menu"><li id="menu-item-5284" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5284"><a href="../../platform/index.html">Features</a></li>
<li id="menu-item-4793" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4793"><a href="../../platform/integrations/index.html">Integrations</a></li>
<li id="menu-item-6280" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6280"><a href="../../pricing/index.html">Pricing</a></li>
<li id="menu-item-6488" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6488"><a href="../../open-source/index.html">Open Source</a></li>
</ul></div></section>				</div>
				
				<div class="main-footer__widgets__column">
					<section id="nav_menu-6" class="widget-odd widget-last widget-first widget-1 footer-widget widget_nav_menu"><h4 class="footer-widget__title">Frameworks and Providers</h4><div class="menu-frameworks-and-providers-container"><ul id="menu-frameworks-and-providers" class="menu"><li id="menu-item-7262" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7262"><a href="../../infrastructure-as-code-security/terraform/index.html">Terraform</a></li>
<li id="menu-item-7263" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7263"><a href="../../infrastructure-as-code-security/cloudformation/index.html">CloudFormation</a></li>
<li id="menu-item-7264" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7264"><a href="../../cloud-security/aws/index.html">AWS</a></li>
<li id="menu-item-7265" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7265"><a href="https://docs.bridgecrew.io/docs/integrate-with-google-cloud">Google Cloud</a></li>
<li id="menu-item-7266" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7266"><a href="https://docs.bridgecrew.io/docs/integrate-with-microsoft-azure">Azure</a></li>
<li id="menu-item-7605" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7605"><a href="../../kubernetes/index.html">Kubernetes</a></li>
<li id="menu-item-7270" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7270"><a href="../../platform/integrations/index.html">See all</a></li>
</ul></div></section>				</div>
				
				<div class="main-footer__widgets__column">
					<section id="nav_menu-3" class="widget-odd widget-last widget-first widget-1 footer-widget widget_nav_menu"><h4 class="footer-widget__title">Use cases</h4><div class="menu-use-case-container"><ul id="menu-use-case" class="menu"><li id="menu-item-7256" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7256"><a href="../../infrastructure-as-code-security/index.html">IaC Security</a></li>
<li id="menu-item-7258" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7258"><a href="../../cloud-security/index.html">Codified Cloud Security</a></li>
<li id="menu-item-7259" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7259"><a href="../../cloud-devsecops/index.html">Cloud DevSecOps</a></li>
<li id="menu-item-7257" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7257"><a href="../../multi-cloud-drift-detection/index.html">Multi-Cloud Drift Detection</a></li>
<li id="menu-item-7261" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7261"><a href="../../iam-least-privilege-automation/index.html">IAM Right-Sizing</a></li>
<li id="menu-item-7260" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7260"><a href="../../secrets-scanning/index.html">Secrets Scanning</a></li>
</ul></div></section>				</div>
				
				<div class="main-footer__widgets__column">
					<section id="nav_menu-4" class="widget-odd widget-last widget-first widget-1 footer-widget widget_nav_menu"><h4 class="footer-widget__title">Resources</h4><div class="menu-resource-container"><ul id="menu-resource" class="menu"><li id="menu-item-7252" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-7252"><a href="../index.html">Blog</a></li>
<li id="menu-item-7254" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7254"><a href="https://docs.bridgecrew.io/docs">Documentation</a></li>
<li id="menu-item-7253" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7253"><a href="https://docs.bridgecrew.io/changelog">Changelog</a></li>
<li id="menu-item-1843" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1843"><a href="../../about/index.html">About Us</a></li>
<li id="menu-item-7255" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7255"><a href="../../customers/index.html">Customers</a></li>
<li id="menu-item-4643" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4643"><a href="../../partners/index.html">Partners</a></li>
<li id="menu-item-3823" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3823"><a href="../../schedule-a-demo/index.html">Schedule a demo</a></li>
</ul></div></section>				</div>
				
			</div>
			
			<div class="clearfix"></div>
			
			<div class="main-footer__copy">
				
				<div class="main-footer__copy__text">
					&copy; 2021 Uniphy inc. All Rights Reserved.
				</div>
				
				<div class="main-footer__copy__menu">
					<ul id="footer-menu" class="menu"><li id="menu-item-5779" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5779"><a href="https://www.paloaltonetworks.com/legal-notices/privacy">Privacy Statement</a></li>
<li id="menu-item-5780" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5780"><a href="https://www.paloaltonetworks.com/legal-notices/terms-of-use">Terms of Use</a></li>
<li id="menu-item-5577" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5577"><a target="_blank" rel="noopener" href="https://www.paloaltonetworks.com/content/dam/pan/en_US/assets/pdf/legal/palo-alto-networks-end-user-license-agreement-eula.pdf">End User License Agreement</a></li>
</ul>				</div>
				
				<div class="clearfix"></div>
			</div>
			
		</div>
		
		<div class="clearfix"></div>
	</footer>

</div><!-- .site-container -->

<div id="ns-mobile-menu" class="ns-mobile-menu">
	<a id="mmenu-close-btn"></a>
	<ul id="menu-main-menu" class=""><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5281"><a href="../../platform/index.html">Platform</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6279"><a href="../../pricing/index.html">Pricing</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1832"><a href="../../customers/index.html">Customers</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-1833"><a href="../../resources/index.html">Resources</a>
<ul class="sub-menu">
	<li class="icon-blog menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-2239"><a href="../index.html">Blog</a></li>
	<li class="icon-docs menu-item menu-item-type-custom menu-item-object-custom menu-item-2240"><a href="https://docs.bridgecrew.io/docs">Docs</a></li>
	<li class="icon-changelog menu-item menu-item-type-custom menu-item-object-custom menu-item-4189"><a href="https://docs.bridgecrew.io/changelog">Changelog</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7654"><a href="../../webinar/2111-dev-day-cloudformation-devsecops-aws/index4ac1.html?sponsor=bridgecrew">CloudFormation workshop</a></li>
</ul>
</li>
</ul>	
	<div class="ns-mobile-menu__cta">
		<a href="https://www.bridgecrew.cloud/login/signUp" target="_blank" class="ns-btn ns-btn--purple">Sign up</a><br>
		<a href="https://www.bridgecrew.cloud/login/signIn" target="_blank" class="ns-btn ns-btn--underline">Sign in</a>
	</div>
</div>

<!--googleoff: all--><div id="cookie-law-info-bar" data-nosnippet="true"><span>This website uses cookies to improve your experience. We'll assume you're ok with this, but you can opt out if you wish. <a role='button' tabindex='0' class="cli_settings_button" style="margin:5px 20px 5px 20px;" >Cookie settings</a><a role='button' tabindex='0' data-cli_action="accept" id="cookie_action_close_header"  class="medium cli-plugin-button cli-plugin-main-button cookie_action_close_header cli_action_button" style="display:inline-block;  margin:5px; ">Accept</a></span></div><div id="cookie-law-info-again" style="display:none;" data-nosnippet="true"><span id="cookie_hdr_showagain">Privacy & Cookies Policy</span></div><div class="cli-modal" data-nosnippet="true" id="cliSettingsPopup" tabindex="-1" role="dialog" aria-labelledby="cliSettingsPopup" aria-hidden="true">
  <div class="cli-modal-dialog" role="document">
	<div class="cli-modal-content cli-bar-popup">
	  	<button type="button" class="cli-modal-close" id="cliModalClose">
			<svg class="" viewBox="0 0 24 24"><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg>
			<span class="wt-cli-sr-only">Close</span>
	  	</button>
	  	<div class="cli-modal-body">
			<div class="cli-container-fluid cli-tab-container">
	<div class="cli-row">
		<div class="cli-col-12 cli-align-items-stretch cli-px-0">
			<div class="cli-privacy-overview">
				<h4>Privacy Overview</h4>				<div class="cli-privacy-content">
					<div class="cli-privacy-content-text">This website uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.</div>
				</div>
				<a class="cli-privacy-readmore"  aria-label="Show more" tabindex="0" role="button" data-readmore-text="Show more" data-readless-text="Show less"></a>			</div>
		</div>
		<div class="cli-col-12 cli-align-items-stretch cli-px-0 cli-tab-section-container">
												<div class="cli-tab-section">
						<div class="cli-tab-header">
							<a role="button" tabindex="0" class="cli-nav-link cli-settings-mobile" data-target="necessary" data-toggle="cli-toggle-tab">
								Necessary							</a>
							<div class="wt-cli-necessary-checkbox">
                        <input type="checkbox" class="cli-user-preference-checkbox"  id="wt-cli-checkbox-necessary" data-id="checkbox-necessary" checked="checked"  />
                        <label class="form-check-label" for="wt-cli-checkbox-necessary">Necessary</label>
                    </div>
                    <span class="cli-necessary-caption">Always Enabled</span> 						</div>
						<div class="cli-tab-content">
							<div class="cli-tab-pane cli-fade" data-id="necessary">
								<div class="wt-cli-cookie-description">
									Necessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.								</div>
							</div>
						</div>
					</div>
																	<div class="cli-tab-section">
						<div class="cli-tab-header">
							<a role="button" tabindex="0" class="cli-nav-link cli-settings-mobile" data-target="non-necessary" data-toggle="cli-toggle-tab">
								Non-necessary							</a>
							<div class="cli-switch">
                        <input type="checkbox" id="wt-cli-checkbox-non-necessary" class="cli-user-preference-checkbox"  data-id="checkbox-non-necessary"  checked='checked' />
                        <label for="wt-cli-checkbox-non-necessary" class="cli-slider" data-cli-enable="Enabled" data-cli-disable="Disabled"><span class="wt-cli-sr-only">Non-necessary</span></label>
                    </div>						</div>
						<div class="cli-tab-content">
							<div class="cli-tab-pane cli-fade" data-id="non-necessary">
								<div class="wt-cli-cookie-description">
									Any cookies that may not be particularly necessary for the website to function and is used specifically to collect user personal data via analytics, ads, other embedded contents are termed as non-necessary cookies. It is mandatory to procure user consent prior to running these cookies on your website.								</div>
							</div>
						</div>
					</div>
										</div>
	</div>
</div>
	  	</div>
	  	<div class="cli-modal-footer">
			<div class="wt-cli-element cli-container-fluid cli-tab-container">
				<div class="cli-row">
					<div class="cli-col-12 cli-align-items-stretch cli-px-0">
						<div class="cli-tab-footer wt-cli-privacy-overview-actions">
						
															<a id="wt-cli-privacy-save-btn" role="button" tabindex="0" data-cli-action="accept" class="wt-cli-privacy-btn cli_setting_save_button wt-cli-privacy-accept-btn cli-btn">SAVE & ACCEPT</a>
													</div>
						
					</div>
				</div>
			</div>
		</div>
	</div>
  </div>
</div>
<div class="cli-modal-backdrop cli-fade cli-settings-overlay"></div>
<div class="cli-modal-backdrop cli-fade cli-popupbar-overlay"></div>
<!--googleon: all-->
<!--BEGIN: TRACKING CODE MANAGER BY INTELLYWP.COM IN FOOTER//-->
<script>
  window.intercomSettings = {
    app_id: "adquux25"
  };
</script>

<script>
// We pre-filled your app ID in the widget URL: 'https://widget.intercom.io/widget/adquux25'
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/adquux25';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
</script>
<!--END: https://wordpress.org/plugins/tracking-code-manager IN FOOTER//--><script src='../../wp-content/plugins/metronet-profile-picture/js/mpp-frontendd315.js?ver=2.6.0' id='mpp_gutenberg_tabs-js'></script>
<script src='../../wp-includes/js/dist/vendor/regenerator-runtime.minb36a.js?ver=0.13.7' id='regenerator-runtime-js'></script>
<script src='../../wp-includes/js/dist/vendor/wp-polyfill.min2c7c.js?ver=3.15.0' id='wp-polyfill-js'></script>
<script id='contact-form-7-js-extra'>
var wpcf7 = {"api":{"root":"https:\/\/bridgecrew.io\/wp-json\/","namespace":"contact-form-7\/v1"}};
</script>
<script src='../../wp-content/plugins/contact-form-7/includes/js/index4245.js?ver=5.5.2' id='contact-form-7-js'></script>
<script id='heateor_sss_sharing_js-js-before'>
function heateorSssLoadEvent(e) {var t=window.onload;if (typeof window.onload!="function") {window.onload=e}else{window.onload=function() {t();e()}}};	var heateorSssSharingAjaxUrl = '../../wp-admin/admin-ajax.html', heateorSssCloseIconPath = '../../wp-content/plugins/sassy-social-share/images/close.png', heateorSssPluginIconPath = '../../wp-content/plugins/sassy-social-share/images/logo.png', heateorSssHorizontalSharingCountEnable = 0, heateorSssVerticalSharingCountEnable = 0, heateorSssSharingOffset = -10; var heateorSssMobileStickySharingEnabled = 0;var heateorSssCopyLinkMessage = "Link copied.";var heateorSssUrlCountFetched = [], heateorSssSharesText = 'Shares', heateorSssShareText = 'Share';function heateorSssPopup(e) {window.open(e,"popUpWindow","height=400,width=600,left=400,top=100,resizable,scrollbars,toolbar=0,personalbar=0,menubar=no,location=no,directories=no,status")};var heateorSssWhatsappShareAPI = "web";
</script>
<script src='../../wp-content/plugins/sassy-social-share/public/js/sassy-social-share-publice346.js?ver=3.3.24' id='heateor_sss_sharing_js-js'></script>
<script src='../../wp-content/themes/bridgecrew/assets/js/vendor/slick.minf658.js?ver=5.8.1' id='slick-slider-js'></script>
<script src='../../wp-content/themes/bridgecrew/assets/js/vendor/lottie.minf658.js?ver=5.8.1' id='lottie-js'></script>
<script src='../../wp-content/themes/bridgecrew/assets/js/vendor/mmenuf658.js?ver=5.8.1' id='mmenu-js'></script>
<script src='../../wp-content/themes/bridgecrew/assets/js/vendor/ResizeSensorf658.js?ver=5.8.1' id='resize-sensor-js'></script>
<script src='../../wp-content/themes/bridgecrew/assets/js/vendor/jquery.sticky-sidebar.minf658.js?ver=5.8.1' id='sticky-sidebar-js'></script>
<script src='../../wp-content/themes/bridgecrew/assets/js/vendor/jquery.magnific-popup.minf658.js?ver=5.8.1' id='magnific-popup-js'></script>
<script src='../../wp-content/themes/bridgecrew/assets/js/vendor/jquery.basictable.minf658.js?ver=5.8.1' id='basictable-js'></script>
<script type="text/javascript" src="../../wp-content/themes/bridgecrew/build/main-minf658.js?ver=5.8.1" defer="defer">\n<script src='https://bridgecrew.io/wp-includes/js/wp-embed.min.js?ver=5.8.1' id='wp-embed-js'></script>

</body>


<!-- Mirrored from bridgecrew.io/blog/creating-a-secure-kubernetes-nginx-deployment-using-checkov/ by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 10 Nov 2021 09:52:00 GMT -->
</html>